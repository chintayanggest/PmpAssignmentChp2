// lib/screens/learn_screen.dart

import 'package:flutter/material.dart';

// --- DATA SOURCE (ALL ARTICLES) ---
final List<Map<String, dynamic>> learnContents = [
  {
    'title': 'Kenapa Pencatatan Keuangan Itu Penting?',
    'category': 'Financial Tips',
    'date': 'Nov 13, 2025',
    'image': 'assets/images/pencatatan_keuangan.jpeg',
    'content': """
Di tengah kenaikan harga kebutuhan pokok dan gaya hidup yang semakin konsumtif, tren baru mulai muncul di kalangan anak muda: pencatatan keuangan harian. Praktik yang dulu dianggap ribet kini menjadi kebutuhan penting untuk menjaga kondisi finansial tetap aman.

Menurut survei finansial nasional tahun 2025, lebih dari 62% anak muda Indonesia mengaku sering kehabisan uang di tengah bulan karena tidak pernah mencatat pengeluaran mereka. Akibatnya, banyak yang merasa stres, impulsif saat belanja, dan sulit mengontrol arus uang masuk dan keluar.

Namun dalam setahun terakhir, mulai terlihat perubahan. Aplikasi keuangan, buku catatan digital, hingga metode budgeting seperti 50-30-20 semakin diminati. Para pakar menilai pencatatan keuangan bukan sekadar tren, tetapi menjadi fondasi pengelolaan uang yang sehat.

**Kenapa Pencatatan Keuangan Itu Penting?**

**1. Menghindari Kebocoran Uang Kecil**
Pengeluaran kecil seperti kopi, ojek online, dan jajan tiba-tiba dapat menumpuk menjadi ratusan ribu rupiah jika tidak dicatat.

**2. Membantu Menentukan Prioritas Keuangan**
Dengan catatan pengeluaran, pola boros akan terlihat jelas sehingga memudahkan penyusunan prioritas.

**3. Memudahkan Rencana Finansial Jangka Panjang**
Pencatatan membantu membuat target tabungan, dana darurat, hingga rencana investasi yang realistis.

**4. Mencegah Hutang Konsumtif**
Ketidaktahuan terhadap batas kemampuan finansial sering memicu hutang. Catatan keuangan memberikan kontrol yang lebih baik.

**5. Menjaga Stabilitas Emosi Terkait Uang**
Dengan arus keuangan yang jelas, seseorang dapat merasa lebih tenang dan tidak cemas soal kondisi finansialnya.

Di era yang serba cepat dan dipenuhi distraksi belanja online, pencatatan keuangan menjadi tameng penting agar masyarakat bisa bertahan secara finansial, mengambil keputusan lebih bijak, dan merencanakan masa depan dengan lebih tenang.
"""
  },
  {
    'title': 'Cara Sederhana Membuat Anggaran Bulanan',
    'category': 'Budgeting',
    'date': 'Nov 12, 2025',
    'image': 'assets/images/dompet_bulanan.jpeg',
    'content': """
Banyak orang kesulitan mengelola pengeluaran bulanan bukan karena kurang uang, tetapi karena tidak memiliki anggaran yang jelas dan terstruktur. Membuat anggaran bulanan sebenarnya tidak serumit yang dibayangkan — bahkan sangat sederhana jika mengikuti langkah-langkah dasar.

Dengan anggaran yang tepat, kamu bisa tahu ke mana uangmu pergi, menghindari pemborosan, dan mulai membangun kebiasaan finansial yang lebih sehat.

**1. Catat Semua Sumber Pemasukan**
Mulailah dengan mencatat semua pemasukan yang kamu terima setiap bulan, seperti gaji, uang jajan, bonus, atau hasil freelance.

**2. Kelompokkan Pengeluaran Wajib**
Pengeluaran wajib mencakup kebutuhan dasar seperti makan, transportasi, pulsa, kuota, cicilan, kontrakan, dan kebutuhan akademik.

**3. Tentukan Batas Pengeluaran untuk Setiap Kategori**
Gunakan metode seperti 50-30-20 atau buat kategori sendiri sesuai gaya hidupmu.
Contoh:
- 50% kebutuhan
- 30% keinginan
- 20% tabungan & investasi

**4. Sisihkan Tabungan di Awal, Bukan Sisa**
Cara terbaik menabung adalah langsung memindahkan dana tabungan di awal bulan sebelum digunakan untuk hal lain.

**5. Lacak Pengeluaran Harian**
Gunakan aplikasi catatan pengeluaran, spreadsheet, atau buku catatan untuk melacak semua transaksi kecil maupun besar.

**6. Evaluasi Anggaran Setiap Minggu**
Periksa apakah kamu masih berada dalam batas pengeluaran yang sudah ditetapkan. Jika ada kategori yang selalu membengkak, sesuaikan anggarannya.

**7. Siapkan Dana Tidak Terduga**
Tidak semua kebutuhan bisa diprediksi. Selalu sisihkan sedikit dana ekstra untuk keadaan mendesak.

Membuat anggaran bulanan bukan hanya soal mengatur uang, tetapi membangun disiplin dan kebiasaan finansial yang lebih sehat. Dengan mengikuti cara-cara sederhana ini, kamu bisa mengontrol keuanganmu dengan lebih baik dan mengurangi stres finansial.
"""
  },
  {
    'title': 'Membedakan Kebutuhan dan Keinginan Finansial',
    'category': 'Financial Planning',
    'date': 'Nov 11, 2025',
    'image': 'assets/images/financial_planning.jpeg',
    'content': """
Dalam pengelolaan keuangan sehari-hari, banyak orang tanpa sadar salah membedakan antara kebutuhan dan keinginan. Kesalahan sederhana ini sering menjadi penyebab kantong cepat kosong, sulit menabung, hingga terjebak dalam pola konsumsi impulsif.

Di tengah banyaknya promo, flash sale, dan tren lifestyle di media sosial, kemampuan untuk memilah dua hal ini menjadi sangat penting agar keuangan tetap sehat dan tidak mudah goyah.

**Apa Itu Kebutuhan dan Keinginan?**

- Kebutuhan adalah pengeluaran yang wajib dipenuhi untuk bertahan hidup dan menjaga fungsi dasar kehidupan. Contohnya makanan, kesehatan, tempat tinggal, transportasi, dan pendidikan.

- Keinginan adalah sesuatu yang dilakukan atau dibeli untuk kenyamanan, gaya hidup, atau hiburan. Misalnya nongkrong di cafe mahal, ganti HP padahal masih bagus, atau beli skincare premium padahal masih punya stok.

**Kenapa Penting Membedakan Kebutuhan dan Keinginan?**

1. Mencegah Pengeluaran Tidak Terencana
Dengan memahami batas kebutuhan, kamu bisa menghindari pengeluaran impulsif yang sering bikin uang habis sebelum waktunya.

2. Membantu Membuat Anggaran yang Realistis
Dengan jelas mana prioritas utama, kamu dapat menyusun budgeting bulanan yang lebih efektif.

3. Mempercepat Tujuan Keuangan
Mengurangi porsi keinginan membantu memperbesar ruang tabungan untuk dana darurat atau investasi.

4. Mengurangi Stres Finansial
Ketika pengeluaran terkendali, kamu akan lebih tenang dan tidak panik menjelang akhir bulan.

**Cara Sederhana Membedakan Kebutuhan dan Keinginan**

- Tanya diri sendiri: “Kalau tidak beli ini, apakah hidupku terganggu?” Kalau jawabannya tidak, berarti itu keinginan.
- Gunakan aturan 24 jam sebelum membeli. Jika setelah 24 jam masih merasa perlu, barulah pertimbangkan.
- Prioritaskan pembayaran kebutuhan dalam 10 detik pertama saat menerima pemasukan. Ini mencegah uang terpakai ke hal-hal yang tidak penting.
- Catat semua pengeluaran bulanan. Dari catatan, kamu bisa lihat pola dan mana yang benar-benar penting.
- Gunakan persentase pembagian uang seperti 50-30-20: 50% kebutuhan, 30% keinginan, 20% tabungan/investasi.

Dengan kemampuan membedakan kedua hal ini, kamu bisa mengambil keputusan finansial yang lebih bijak, menghindari pemborosan, dan mencapai stabilitas ekonomi yang lebih baik di masa depan.
"""
  },
  {
    'title': 'Tips Menabung untuk Mahasiswa dengan Gaji Terbatas',
    'category': 'Saving',
    'date': 'Nov 10, 2025',
    'image': 'assets/images/saving.jpeg',
    'content': """
Sebagai mahasiswa dengan pemasukan terbatas, menabung sering terasa sulit. Namun sebenarnya, kemampuan menabung tidak selalu bergantung pada besar kecilnya pemasukan, melainkan pada cara mengatur keuangan dan kebiasaan sehari-hari.

**Berikut beberapa tips menabung yang realistis bagi mahasiswa:**

**1. Tentukan Nominal Tabungan yang Realistis**
Kamu tidak perlu langsung menabung besar. Bahkan Rp5.000–Rp10.000 per hari sudah cukup asalkan konsisten.

**2. Gunakan Metode 50-30-20 Versi Mahasiswa**
50% untuk kebutuhan (makan, transport, tugas), 30% untuk keinginan, dan 20% untuk tabungan. Jika pemasukan kecil, sesuaikan tetap menggunakan persentase.

**3. Pisahkan Rekening Tabungan dan Pengeluaran**
Rekening terpisah membantu kamu tidak tergoda untuk memakai uang tabungan.

**4. Manfaatkan Promo dan Diskon dengan Bijak**
Gunakan promo untuk kebutuhan, bukan keinginan. Jangan sampai promo justru bikin boros.

**5. Catat Pengeluaran Harian**
Ini penting agar kamu paham kemana uangmu pergi dan bagian mana yang bisa dikurangi.

**6. Kurangi Jajan yang Tidak Penting**
Coba atur batas jajan mingguan. Pengeluaran kecil yang tidak terasa bisa jadi boros besar.

**7. Cari Penghasilan Tambahan**
Freelance kecil-kecilan, jualan, atau kerja paruh waktu sangat membantu menambah tabungan.

**8. Menabung Secara Otomatis di Awal Gajian**
Begitu dapat uang, sisihkan langsung sebelum dipakai. Ini membuatmu lebih disiplin.

Dengan kebiasaan kecil yang dilakukan secara konsisten, mahasiswa dengan gaji terbatas tetap bisa menabung dan membangun keuangan yang lebih stabil di masa depan.
"""
  },
  {
    'title': 'Investasi Awal: Apa yang Perlu Kamu Ketahui?',
    'category': 'Investment',
    'date': 'Nov 9, 2025',
    'image': 'assets/images/investment.jpeg',
    'content': """
Mulai berinvestasi sejak dini adalah salah satu keputusan finansial terbaik yang bisa kamu ambil. Dengan investasi, uangmu tidak hanya diam, tetapi bertumbuh seiring waktu. Namun sebagai pemula, penting sekali memahami dasar-dasar agar tidak salah langkah.

**1. Tentukan Tujuan Keuangan**
Sebelum mulai, tanyakan ke dirimu sendiri: untuk apa kamu berinvestasi? Untuk dana pendidikan? Dana darurat? Rumah pertama? Tujuan yang jelas membantu menentukan instrumen investasi yang paling cocok.

**2. Kenali Profil Risiko**
Ada tiga tipe investor: konservatif, moderat, dan agresif. Pemula biasanya cocok mulai dari instrumen berisiko rendah seperti reksa dana pasar uang.

**3. Mulai dari Nominal Kecil**
Sekarang nggak perlu modal jutaan untuk mulai investasi. Banyak platform yang memungkinkan kamu mulai hanya dengan Rp 10.000–50.000.

**4. Pahami Instrumen Dasar**
Beberapa instrumen yang cocok untuk pemula:
- Reksa dana pasar uang
- Deposito berjangka
- Emas digital
- Reksa dana pendapatan tetap
- Saham (jika sudah memahami risiko lebih tinggi)

**5. Hindari FOMO dan Janji Untung Cepat**
Banyak pemula terjebak ikut-ikutan tren tanpa memahami risikonya. Ingat: investasi bukan jalan pintas jadi kaya, melainkan proses jangka panjang.

**6. Lakukan Diversifikasi**
Jangan menaruh semua uangmu di satu instrumen. Sebar risikonya ke beberapa aset agar lebih aman.

Memulai investasi bukan soal seberapa besar uang yang kamu punya, tetapi bagaimana kamu memulai dengan disiplin, konsisten, dan memahami risikonya. Semakin cepat kamu mulai, semakin besar kesempatan uangmu bertumbuh di masa depan.
"""
  },
  {
    'title': 'Pentingnya Dana Darurat dalam Keuangan Pribadi',
    'category': 'Emergency Fund',
    'date': 'Nov 8, 2025',
    'image': 'assets/images/emergency_fund.jpeg',
    'content': """
Dana darurat adalah salah satu fondasi terpenting dalam pengelolaan keuangan pribadi. Dana ini berfungsi sebagai pelindung ketika terjadi kondisi tak terduga yang membutuhkan biaya mendadak. Tanpa dana darurat, kamu bisa saja terpaksa berutang atau menggunakan uang yang sudah dialokasikan untuk kebutuhan lain.

**1. Mengatasi Keadaan Mendesak**
Situasi seperti kehilangan pekerjaan, biaya rumah sakit, atau kerusakan kendaraan bisa terjadi tanpa peringatan. Dengan dana darurat, kamu tidak perlu panik karena sudah memiliki dana yang siap dipakai kapan saja.

**2. Melindungi dari Utang Tidak Perlu**
Tanpa dana cadangan, banyak orang akhirnya menggunakan kartu kredit atau pinjaman online untuk menutup kebutuhan darurat. Hal ini membuat kondisi keuangan semakin berat karena terbebani bunga dan cicilan.

**3. Memberi Rasa Aman dan Tenang**
Memiliki dana darurat memberikan ketenangan karena kamu tahu bahwa kamu siap menghadapi situasi apa pun tanpa harus mengganggu keuangan utama.

**4. Membantu Mengontrol Perencanaan Keuangan**
Dengan adanya dana darurat, kamu tidak perlu terus-menerus memindahkan budget dari pos lain ketika ada kebutuhan mendadak. Semua tetap pada jalurnya, dan rencana keuanganmu lebih teratur.

**5. Berapa Jumlah Dana Darurat yang Ideal?**
Umumnya, jumlah dana darurat ideal adalah:
- 3–6 bulan pengeluaran untuk karyawan
- 6–12 bulan pengeluaran untuk pekerja lepas/wirausaha
Semakin tidak stabil sumber penghasilanmu, semakin besar dana cadangan yang diperlukan.

**6. Dimana Sebaiknya Menyimpan Dana Darurat?**
Simpan di instrumen yang aman, likuid, dan mudah dicairkan seperti:
- Tabungan bank
- E-wallet dengan bunga saldo
- Deposito jangka pendek
- Reksa dana pasar uang

Membangun dana darurat memang membutuhkan disiplin, tapi dampaknya sangat besar untuk stabilitas finansialmu. Dengan adanya dana cadangan, kamu bisa menjalani hidup dengan lebih tenang, siap menghadapi risiko, dan lebih fokus mencapai tujuan keuangan jangka panjang.
"""
  },
  {
    'title': 'Cara Menghindari Utang Konsumtif',
    'category': 'Debt Control',
    'date': 'Nov 7, 2025',
    'image': 'assets/images/debt.jpeg',
    'content': """
Utang konsumtif adalah utang yang digunakan untuk membeli barang atau layanan yang nilainya tidak bertambah, bahkan seringkali menurun. Biasanya muncul karena gaya hidup, FOMO, atau keinginan impulsif. Jika dibiarkan, utang konsumtif bisa mengganggu stabilitas finansialmu.

**1. Bedakan Keinginan dan Kebutuhan**
Tanyakan pada diri sendiri: apakah barang yang ingin kamu beli benar-benar penting? Kalau hanya untuk mengikuti tren atau karena tergoda promo, lebih baik ditunda.

**2. Hindari Belanja Impulsif**
Biasakan memberi jeda 24 jam sebelum membeli barang yang tidak benar-benar dibutuhkan. Metode ini efektif untuk menekan dorongan belanja spontan.

**3. Batasi Penggunaan PayLater dan Kartu Kredit**
Fasilitas PayLater dan kartu kredit memang memudahkan, tetapi bisa membuatmu merasa seolah punya uang padahal tidak. Gunakan hanya untuk kebutuhan penting dan selalu bayar lunas setiap bulan.

**4. Buat Anggaran Bulanan yang Realistis**
Tentukan berapa batas pengeluaran untuk gaya hidup, makan, dan hiburan. Dengan batas yang jelas, kamu lebih mudah mengendalikan diri.

**5. Catat Semua Pengeluaranmu**
Pencatatan keuangan membantu kamu melihat pola pengeluaran dan mengetahui di mana kamu sering boros. Ini akan memudahkanmu mengambil keputusan finansial yang lebih bijak.

**6. Hindari Lingkungan yang Memicu Konsumtif**
Unfollow akun-akun yang membuat kamu ingin beli terus. Kurangi nongkrong di tempat yang bikin pengeluaran membengkak.

**7. Utamakan Menabung dan Dana Darurat**
Dengan memiliki tabungan dan dana darurat, kamu tidak akan mudah tergoda untuk berutang ketika ada kebutuhan mendadak.

Menghindari utang konsumtif bukan berarti kamu tidak boleh menikmati hidup. Yang penting adalah belanja dengan sadar, sesuai kemampuan, dan tanpa mengorbankan stabilitas keuanganmu.
"""
  },
  {
    'title': 'Mindset Finansial yang Sehat di Usia Muda',
    'category': 'Mindset',
    'date': 'Nov 5, 2025',
    'image': 'assets/images/mindset_finansial.jpeg',
    'content': """
Memiliki mindset finansial yang sehat sejak usia muda adalah pondasi penting untuk masa depan yang stabil. Mindset yang tepat akan membantumu mengelola uang dengan bijak, menghindari keputusan impulsif, dan membangun peluang untuk meraih tujuan besar di masa depan.

**1. Belajar Mengendalikan Keinginan**
Banyak anak muda terjebak FOMO dan budaya konsumtif. Pahami bahwa tidak semua yang kamu inginkan harus kamu beli saat itu juga. Kendalikan keinginan adalah langkah pertama menuju kesehatan finansial.

**2. Prioritaskan Kebutuhan daripada Gaya Hidup**
Pisahkan dengan jelas mana yang benar-benar kamu butuhkan dan mana yang hanya keinginan. Mindset ini akan membuatmu lebih disiplin dalam mengelola keuangan.

**3. Biasakan Menabung Secara Konsisten**
Tidak masalah berapa besar nominalnya. Yang penting adalah konsistensi. Dengan membangun kebiasaan menabung, kamu akan terbiasa memikirkan masa depan, bukan hanya kebutuhan hari ini.

**4. Memiliki Pola Pikir Jangka Panjang**
Anak muda sering berpikir pendek—yang penting senang sekarang. Padahal, keputusan finansial hari ini bisa berdampak besar beberapa tahun ke depan. Belajarlah membuat keputusan yang menguntungkan masa depanmu.

**5. Hindari Utang Konsumtif**
Utang untuk memenuhi keinginan (bukan kebutuhan) hanya akan membebanimu. Mindset yang sehat adalah: kalau belum mampu, ditunda dulu.

**6. Fokus Pada Pengembangan Diri**
Mindset finansial bukan hanya tentang uang. Ini juga tentang membangun diri: skill, pendidikan, wawasan, dan peluang. Semakin tinggi kapasitas dirimu, semakin besar peluang penghasilanmu.

**7. Berani Membuat Anggaran**
Anggaran bukan pembatas kebebasan, tapi alat untuk membantumu tetap di jalur. Dengan membuat anggaran, kamu bisa mengontrol pengeluaran tanpa merasa kehilangan kebebasan.

Mindset finansial yang sehat bukan terbentuk dalam semalam, tetapi dari kebiasaan kecil yang kamu bangun setiap hari. Semakin cepat kamu memulainya, semakin besar manfaat yang akan kamu rasakan di masa depan.
"""
  },
  {
    'title': 'Tips Membeli Barang Tanpa Penyesalan Finansial',
    'category': 'Smart Spending',
    'date': 'Nov 4, 2025',
    'image': 'assets/images/smart_spending.jpeg',
    'content': """
Pernah nggak sih kamu beli sesuatu hanya karena keinginan sesaat, terus beberapa hari kemudian langsung nyesel? Penyesalan finansial itu sebenarnya bisa banget dihindari kalau kamu punya strategi belanja yang lebih bijak.

**1. Gunakan Aturan 24 Jam**
Kalau kamu lagi pengen beli sesuatu, terutama barang yang nggak terlalu penting, coba tahan dulu selama 24 jam. Kalau setelah itu masih pengen banget, berarti barang itu memang ada nilainya buat kamu.

**2. Bedakan Keinginan dan Kebutuhan**
Tanya dulu ke diri sendiri: ini kebutuhan atau cuma keinginan sesaat? Kesadaran kecil ini bisa mengurangi banyak penyesalan di kemudian hari.

**3. Cek Ulang Kemampuan Finansial**
Jangan memaksakan beli barang kalau itu membuat tabunganmu menipis atau mengganggu kebutuhan penting bulan ini. Belanja harus tetap sesuai kemampuan finansialmu.

**4. Evaluasi Manfaat Barang Tersebut**
Tanya dirimu: barang ini bakal kepakai sering atau cuma dipakai di awal doang? Semakin besar manfaatnya, semakin layak untuk dibeli.

**5. Hindari Pembelian Karena FOMO**
Diskon, limited edition, atau tren viral sering bikin kita beli tanpa mikir panjang. Ingat, FOMO itu musuh terbesar dompet.

**6. Hitung Cost per Use**
Cost per use adalah cara menilai apakah sebuah barang worth it. Kalau barangnya mahal tapi sering dipakai, sebenarnya itu investasi yang bagus.

**7. Baca Review Jujur Sebelum Beli**
Review membantu kamu tahu apakah barang itu berkualitas atau cuma sekadar kelihatan bagus di iklan. Jangan sampai beli, eh ternyata mudah rusak.

Dengan menerapkan tips-tips di atas, kamu bisa belanja dengan jauh lebih bijak dan mengurangi kemungkinan penyesalan finansial. Belanja itu boleh, tapi harus tetap terkontrol agar keuanganmu tetap aman.
"""
  },
];

class LearnScreen extends StatefulWidget {
  const LearnScreen({super.key});

  @override
  State<LearnScreen> createState() => _LearnScreenState();
}

class _LearnScreenState extends State<LearnScreen> {
  int selectedIndex = -1;

  void _navigateToDetail(Map<String, dynamic> content, BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => ArticleDetailScreen(data: content),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.grey[100],
      appBar: AppBar(
        title: const Text('Learn'),
        centerTitle: true,
        backgroundColor: Colors.white,
        foregroundColor: Colors.black87,
        elevation: 0,
        automaticallyImplyLeading: false, // Keep this false for main tabs
      ),
      body: ListView.builder(
        padding: const EdgeInsets.all(16),
        itemCount: learnContents.length,
        itemBuilder: (context, index) {
          final content = learnContents[index];

          return GestureDetector(
            onTapDown: (_) => setState(() => selectedIndex = index),
            onTapCancel: () => setState(() => selectedIndex = -1),
            onTap: () {
              setState(() => selectedIndex = -1);
              _navigateToDetail(content, context);
            },
            child: AnimatedContainer(
              duration: const Duration(milliseconds: 180),
              margin: const EdgeInsets.only(bottom: 16),
              decoration: BoxDecoration(
                color: selectedIndex == index ? Colors.blue.withOpacity(0.15) : Colors.white,
                borderRadius: BorderRadius.circular(16),
                boxShadow: const [
                  BoxShadow(color: Colors.black12, blurRadius: 6, offset: Offset(0, 4)),
                ],
              ),
              child: Row(
                children: [
                  ClipRRect(
                    borderRadius: const BorderRadius.only(
                        topLeft: Radius.circular(16),
                        bottomLeft: Radius.circular(16)
                    ),
                    child: SizedBox(
                      height: 100,
                      width: 100,
                      child: Image.asset(
                        content['image'],
                        fit: BoxFit.cover,
                        errorBuilder: (context, error, stackTrace) => Container(
                          color: Colors.grey[300],
                          child: const Icon(Icons.image_not_supported, color: Colors.grey),
                        ),
                      ),
                    ),
                  ),
                  Expanded(
                    child: Padding(
                      padding: const EdgeInsets.all(12.0),
                      child: Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: [
                          Text(
                            content['category'],
                            style: const TextStyle(color: Colors.blueAccent, fontWeight: FontWeight.w500),
                          ),
                          const SizedBox(height: 6),
                          Text(
                            content['title'],
                            style: const TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                            maxLines: 2,
                            overflow: TextOverflow.ellipsis,
                          ),
                          const SizedBox(height: 6),
                          Text(
                            content['date'],
                            style: const TextStyle(color: Colors.grey, fontSize: 12),
                          ),
                        ],
                      ),
                    ),
                  ),
                ],
              ),
            ),
          );
        },
      ),
    );
  }
}

// --- GENERIC ARTICLE DETAIL SCREEN ---
class ArticleDetailScreen extends StatelessWidget {
  final Map<String, dynamic> data;

  const ArticleDetailScreen({super.key, required this.data});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.white,
      extendBodyBehindAppBar: true,
      appBar: AppBar(
        backgroundColor: Colors.transparent,
        elevation: 0,
        foregroundColor: Colors.white,
        leading: Container(
          margin: const EdgeInsets.all(8),
          decoration: const BoxDecoration(
            color: Colors.black45,
            shape: BoxShape.circle,
          ),
          child: IconButton(
            icon: const Icon(Icons.arrow_back),
            onPressed: () => Navigator.pop(context),
          ),
        ),
      ),
      body: Stack(
        children: [
          // Background Image
          SizedBox(
            height: 350,
            width: double.infinity,
            child: Image.asset(
              data['image'],
              fit: BoxFit.cover,
              errorBuilder: (ctx, err, stack) => Container(color: Colors.grey),
            ),
          ),

          // Scrollable Content
          SingleChildScrollView(
            padding: const EdgeInsets.only(top: 300),
            child: Container(
              padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 25),
              decoration: const BoxDecoration(
                color: Colors.white,
                borderRadius: BorderRadius.only(
                  topLeft: Radius.circular(30),
                  topRight: Radius.circular(30),
                ),
              ),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  // Category Chip
                  Container(
                    padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 6),
                    decoration: BoxDecoration(
                      color: Colors.blue.shade100,
                      borderRadius: BorderRadius.circular(20),
                    ),
                    child: Text(
                      data['category'],
                      style: const TextStyle(
                        color: Colors.blue,
                        fontWeight: FontWeight.w600,
                        fontSize: 12,
                      ),
                    ),
                  ),
                  const SizedBox(height: 12),

                  // Title
                  Text(
                    data['title'],
                    style: const TextStyle(fontSize: 26, fontWeight: FontWeight.bold),
                  ),
                  const SizedBox(height: 8),

                  // Metadata
                  Row(
                    children: [
                      Text(
                        "${data['date']} • Popular",
                        style: const TextStyle(color: Colors.grey, fontSize: 12),
                      ),
                    ],
                  ),
                  const SizedBox(height: 25),

                  // Content Body
                  Text(
                    data['content'],
                    textAlign: TextAlign.justify,
                    style: const TextStyle(fontSize: 16, height: 1.6, color: Colors.black87),
                  ),
                  const SizedBox(height: 40),
                ],
              ),
            ),
          ),
        ],
      ),
    );
  }
}